applications:
  - name: pgweb
    deployment:
      image:
        repository: ghcr.io/sosedoff/pgweb
        version: "0.14.2"
      envsSecret:
      - name: PGWEB_DATABASE_URL
        keySecret: pgweb-database-url
      - name: PGWEB_AUTH_USER
        keySecret: pgweb-auth-user
      - name: PGWEB_AUTH_PASS
        keySecret: pgweb-auth-password
      resources:
        requests:
          memory: "50Mi"
          cpu: null
        limits:
          memory: "100Mi"
          cpu: null
      nodeSelector:
        service: database
      tolerations:
        - key: workloadKind
          operator: Equal
          value: database
          effect: NoSchedule
      affinity:
        nodeAffinity:
          requiredDuringSchedulingIgnoredDuringExecution:
            nodeSelectorTerms:
              - matchExpressions:
                - key: service
                  operator: In
                  values:
                    - database